$(document).ready((function(){function t(){$.ajax({type:"GET",url:"/get_cart_items/",success:function(t){var a=t.num_items;$(".custom-cart-badge").text(a),e()},error:function(t,e,a){console.log(t.status+": "+t.responseText)}})}function e(){var t=parseInt($(".custom-cart-badge").text()),e=$(".add-to-cart");t>0?e.show():e.hide()}t(),$(".add-to-cart-form").submit((function(a){a.preventDefault();var n=$(this),o=n.find('input[name="item_id"]').val(),s=n.find('input[name="csrfmiddlewaretoken"]').val(),r=n.find('button[type="submit"]');"Add to Cart"===r.text().trim()&&$.ajax({type:"POST",url:"/add_to_cart/",data:{item_id:o},headers:{"X-CSRFToken":s},success:function(a){var n;"Item added to cart successfully."===a.message&&(r.text("Remove from Cart"),r.removeClass("btn-outline-dark").addClass("btn-outline-danger"),new Audio("/static/audio/add_to_cart_notification.mp3").play(),(n=$(".custom-cart-badge")).addClass("text-bg-danger"),setTimeout((function(){n.removeClass("text-bg-danger")}),1e3),t(),e())},error:function(t,e,a){console.log(t.status+": "+t.responseText)}})}))})),$(document).ready((function(){function t(){$.ajax({type:"GET",url:"/get_cart_items/",success:function(t){var a=t.num_items;$(".custom-cart-badge").text(a),e()},error:function(t,e,a){console.log(t.status+": "+t.responseText)}})}function e(){var t=parseInt($(".custom-cart-badge").text()),e=$(".add-to-cart");t>0?e.show():e.hide()}t(),$(".add-to-cart-form").submit((function(a){a.preventDefault();var n=$(this),o=n.find('input[name="item_id"]').val(),s=n.find('button[type="submit"]');"Remove from Cart"===s.text().trim()&&$.ajax({type:"POST",url:"/remove_from_cart/"+o+"/",data:{item_id:o},headers:{"X-CSRFToken":$('input[name="csrfmiddlewaretoken"]').val()},success:function(a){"Item removed from cart successfully."===a.message&&(s.text("Add to Cart"),s.removeClass("btn-outline-danger").addClass("btn-outline-dark"),t(),e())},error:function(t,e,a){console.log(t.status+": "+t.responseText)}})}))}));