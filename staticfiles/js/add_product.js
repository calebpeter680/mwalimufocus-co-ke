document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("addShopItemBtn");e.addEventListener("click",(function(n){n.preventDefault(),e.innerHTML='\n            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n            Adding...\n        ';const t=document.getElementById("addShopItemForm"),o=new FormData(t),r=o.get("csrfmiddlewaretoken");fetch("/vendors/add-shop-item/",{method:"POST",body:o,headers:{"X-CSRFToken":r}}).then((e=>e.json())).then((e=>{const n=document.querySelector(".add-shop-item-modal");"success"===e.status?(n.innerHTML=`\n                    <div class="alert alert-success" role="alert">\n                        ${e.message}\n                    </div>\n                `,setTimeout((function(){window.location.reload()}),2e3)):(n.innerHTML=`\n                    <div class="alert alert-danger" role="alert">\n                        ${e.message}\n                    </div>\n                `,setTimeout((function(){window.location.reload()}),4e3))})).catch((e=>{console.error("Error:",e),alert("An error occurred. Please try again.")}))}))}));