document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("addShopItemBtn");e.addEventListener("click",(n=>{n.preventDefault(),e.innerHTML='\n            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n            Adding...\n        ';const t=document.getElementById("addShopItemForm"),o=new FormData(t);console.log("Form Data:"),o.forEach(((e,n)=>{console.log(`${n}: ${e}`)}));const r=o.get("csrfmiddlewaretoken");fetch("/vendors/add-shop-item/",{method:"POST",body:o,headers:{"X-CSRFToken":r}}).then((e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()})).then((e=>{const n=document.querySelector(".add-shop-item-modal");"success"===e.status?(n.innerHTML=`\n                    <div class="alert alert-success" role="alert">\n                        ${e.message}\n                    </div>\n                `,setTimeout((()=>{window.location.reload()}),2e3)):(n.innerHTML=`\n                    <div class="alert alert-danger" role="alert">\n                        ${e.message}\n                    </div>\n                `,setTimeout((()=>{window.location.reload()}),4e3))})).catch((e=>{console.error("Error:",e),alert(`An error occurred. Please try again. Error: ${e}`)})).finally((()=>{e.innerHTML="Add Product"}))})),$("#addShopItem").on("show.bs.modal",(function(){document.getElementById("addShopItemForm").reset()}))}));