$(document).ready((function(){var e=$("#sendRequestBtn"),t="withdrawalRequestTime";e.click((function(r){r.preventDefault(),e.html('\n            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n            Sending...\n        ');var a=localStorage.getItem(t);if(a&&(new Date).getTime()-parseInt(a,10)<6e4)return $(".withdrawal-request-modal-body").html('\n                    <div class="alert alert-dark" role="alert">\n                        You must wait for at least 10 minutes before attempting another withdrawal request.\n                    </div>\n                '),e.html("Send Request"),void setTimeout((function(){location.reload()}),4e3);var n=$('#requestWithdrawalForm input[name="csrfmiddlewaretoken"]').val(),o=$("#requestWithdrawalForm").serialize();$.ajax({type:"POST",url:"/vendors/initiate_mpesa_b2c/",data:o,headers:{"X-CSRFToken":n},success:function(r){$(".withdrawal-request-modal-body").html(`\n                    <div class="alert alert-dark" role="alert">\n                        ${r.status}\n                    </div>\n                `),localStorage.setItem(t,(new Date).getTime().toString()),e.html("Send Request"),setTimeout((function(){location.reload()}),4e3)},error:function(t,r,a){console.error("Error:",a),$(".withdrawal-request-modal-body").html('\n                    <div class="alert alert-dark" role="alert">\n                        An Error Occurred. Try Again\n                    </div>\n                '),e.html("Send Request"),setTimeout((function(){location.reload()}),4e3)}})}))}));